<h2 class="component">All Events</h2>

<p-table [value]="events()">
  <ng-template pTemplate="header">
    <tr>
      <th scope="col"></th>
      <th scope="col" aria-label="ID">ID</th>
      <th scope="col" aria-label="Title">Title</th>
      <th scope="col" aria-label="Description">Description</th>
      <th scope="col" aria-label="Location">Location</th>
      <th scope="col" aria-label="Date">Date</th>
      <th scope="col" aria-label="Time">Time</th>
      <th scope="col" aria-label="Visibility">Visibility</th>
      <th scope="col" aria-label="Number of participants"># Participants</th>
      <th scope="col" aria-label="Number of comments"># Comments</th>
      <th scope="col" aria-label="Edit"></th>
      <th scope="col" aria-label="Delete"></th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-event>
    <tr>
      <td>
        <a [routerLink]="getEventRouterLink(event.id)">
          <img
            [src]="UrlUtilService.getMediaUrl(event.pictureURI || environment.eventDummyCoverPicRelativeUrl)"
            [alt]="'Cover picture of the event ' + event.title"
            class="user-avatar"
          />
        </a>
      </td>

      <td>{{ event.id }}</td>
      <td>{{ event.title }}</td>
      <td>{{ event.description }}</td>
      <td>{{ event.location }}</td>

      <td>{{ event.date | date:'EEE, MMMM d, y' }}</td>

      <td>{{ event.date | date:'h:mm a' }}</td>

      <td>
        <p-tag
          [icon]="event.isPrivate ? 'pi pi-lock' : 'pi pi-globe'"
          [severity]="event.isPrivate ? 'warn' : 'success'"
          [value]="event.isPrivate ? 'Private' : 'Public'">
        </p-tag>
      </td>

      <td>{{ event.participants.length }}</td>

      <td>{{ event.comments.length }}</td>

      <td>
        <i class="pi pi-pencil clickable" title="Edit" (click)="onEdit(event)" aria-label="Edit event"></i>
      </td>
      <td>
        <i class="pi pi-trash clickable" title="Delete" (click)="onDelete(event)" aria-label="Delete event"></i>
      </td>
    </tr>
  </ng-template>
</p-table>
